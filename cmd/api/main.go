package main

import (
	"fmt"
	"net/http"

	"github.com/MouraJr/firstgoapi/internal/handlers"
	"github.com/go-chi/chi"
	log "github.com/sirupsen/logrus"
)

func main() {
	log.SetReportCaller(true)
	var r *chi.Mux = chi.NewRouter()
	handlers.Handler(r)

	fmt.Println("Starting GO API Service...")

	fmt.Println(`
	          _____                    _____                    _____                            _____                   _______                           _____                    _____                    _____          
         /\    \                  /\    \                  /\    \                          /\    \                 /::\    \                         /\    \                  /\    \                  /\    \         
        /::\____\                /::\____\                /::\    \                        /::\    \               /::::\    \                       /::\    \                /::\    \                /::\    \        
       /::::|   |               /:::/    /               /::::\    \                      /::::\    \             /::::::\    \                     /::::\    \              /::::\    \               \:::\    \       
      /:::::|   |              /:::/   _/___            /::::::\    \                    /::::::\    \           /::::::::\    \                   /::::::\    \            /::::::\    \               \:::\    \      
     /::::::|   |             /:::/   /\    \          /:::/\:::\    \                  /:::/\:::\    \         /:::/~~\:::\    \                 /:::/\:::\    \          /:::/\:::\    \               \:::\    \     
    /:::/|::|   |            /:::/   /::\____\        /:::/  \:::\    \                /:::/  \:::\    \       /:::/    \:::\    \               /:::/__\:::\    \        /:::/__\:::\    \               \:::\    \    
   /:::/ |::|   |           /:::/   /:::/    /       /:::/    \:::\    \              /:::/    \:::\    \     /:::/    / \:::\    \             /::::\   \:::\    \      /::::\   \:::\    \              /::::\    \   
  /:::/  |::|___|______    /:::/   /:::/   _/___    /:::/    / \:::\    \            /:::/    / \:::\    \   /:::/____/   \:::\____\           /::::::\   \:::\    \    /::::::\   \:::\    \    ____    /::::::\    \  
 /:::/   |::::::::\    \  /:::/___/:::/   /\    \  /:::/    /   \:::\ ___\          /:::/    /   \:::\ ___\ |:::|    |     |:::|    |         /:::/\:::\   \:::\    \  /:::/\:::\   \:::\____\  /\   \  /:::/\:::\    \ 
/:::/    |:::::::::\____\|:::|   /:::/   /::\____\/:::/____/     \:::|    |        /:::/____/  ___\:::|    ||:::|____|     |:::|    |        /:::/  \:::\   \:::\____\/:::/  \:::\   \:::|    |/::\   \/:::/  \:::\____\
\::/    / ~~~~~/:::/    /|:::|__/:::/   /:::/    /\:::\    \     /:::|____|        \:::\    \ /\  /:::|____| \:::\    \   /:::/    /         \::/    \:::\  /:::/    /\::/    \:::\  /:::|____|\:::\  /:::/    \::/    /
 \/____/      /:::/    /  \:::\/:::/   /:::/    /  \:::\    \   /:::/    /          \:::\    /::\ \::/    /   \:::\    \ /:::/    /           \/____/ \:::\/:::/    /  \/_____/\:::\/:::/    /  \:::\/:::/    / \/____/ 
             /:::/    /    \::::::/   /:::/    /    \:::\    \ /:::/    /            \:::\   \:::\ \/____/     \:::\    /:::/    /                     \::::::/    /            \::::::/    /    \::::::/    /          
            /:::/    /      \::::/___/:::/    /      \:::\    /:::/    /              \:::\   \:::\____\        \:::\__/:::/    /                       \::::/    /              \::::/    /      \::::/____/           
           /:::/    /        \:::\__/:::/    /        \:::\  /:::/    /                \:::\  /:::/    /         \::::::::/    /                        /:::/    /                \::/____/        \:::\    \           
          /:::/    /          \::::::::/    /          \:::\/:::/    /                  \:::\/:::/    /           \::::::/    /                        /:::/    /                  ~~               \:::\    \          
         /:::/    /            \::::::/    /            \::::::/    /                    \::::::/    /             \::::/    /                        /:::/    /                                     \:::\    \         
        /:::/    /              \::::/    /              \::::/    /                      \::::/    /               \::/____/                        /:::/    /                                       \:::\____\        
        \::/    /                \::/____/                \::/____/                        \::/____/                 ~~                              \::/    /                                         \::/    /        
         \/____/                  ~~                       ~~                                                                                         \/____/                                           \/____/         
                                                                                                                                                                                                                        
	`)

	err := http.ListenAndServe("localhost:8123", r)

	if err != nil {
		log.Fatal(err)
	}
}
